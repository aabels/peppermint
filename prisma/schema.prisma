generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model Client {
  ID          Int      @id(map: "PK_Client") @default(autoincrement())
  createdAt   DateTime @default(now(), map: "DF_Client_createdAt") @db.DateTime
  updatedAt   DateTime @default(now(), map: "DF_Client_updatedAt") @db.DateTime
  name        String   @db.NVarChar(Max)
  email       String   @unique @db.VarChar(255)
  contactName String   @db.NVarChar(Max)
  number      String?   @db.NVarChar(Max)
  notes       String?   @db.NVarChar(Max)
}

model Ticket {
  ID         Int      @id(map: "PK_Ticket") @default(autoincrement())
  createdAt  DateTime @default(now(), map: "DF_Ticket_createdAt") @db.DateTime
  updatedAt  DateTime @default(now(), map: "DF_Ticket_updatedAt") @db.DateTime
  name       String   @db.NVarChar(Max)
  title      String   @db.NVarChar(Max)
  detail     String   @db.NVarChar(Max)
  isComplete Boolean  @default(false, map: "DF_Ticket_isComplete")
  priority   String   @db.NVarChar(Max)
  clientId   Int
  userId     Int
}

model User {
  ID        Int      @id(map: "PK_User") @default(autoincrement())
  createdAt DateTime @default(now(), map: "DF_User_createdAt") @db.DateTime
  updatedAt DateTime @default(now(), map: "DF_User_updatedAt") @db.DateTime
  name      String  @db.NVarChar(Max)
  password  String  @db.NVarChar(Max)
  email     String   @unique @db.VarChar(255)
  isAdmin   Boolean
}

model Webhooks {
  ID        Int      @id(map: "PK_Webhooks") @default(autoincrement())
  createdAt DateTime @default(now(), map: "DF_Webhooks_createdAt") @db.DateTime
  updatedAt DateTime @default(now(), map: "DF_Webhooks_updatedAt") @db.DateTime
  name      String   @db.NVarChar(Max)
  url       String   @db.NVarChar(Max)
  type      String   @db.NVarChar(Max)
  active    Boolean  @default(false, map: "DF_Webhooks_active")
  secret    String?  @db.NVarChar(Max)
  createdBy String   @db.NVarChar(Max)
}
